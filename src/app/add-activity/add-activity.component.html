<div class="container pt-5">
  <div class="row">
    <div class="col-md-3"></div>

    <form class="col-md-6">
      <h1 class="pb-3">Create new activity</h1>

      <div class="form-group">
        <label class="required-field" for="name">Name:</label>
        <input (focusout)="touched.name = true"
               [(ngModel)]="activity.name"
               [class.is-invalid]="touched.name && !isNameValid()"
               [class.is-valid]="touched.name && isNameValid()"
               class="form-control" id="name" name="name"
               required type="text">
      </div>
      <div *ngIf="touched.name && !isNameValid()" class="alert alert-danger" role="alert">
        Activity name is required
      </div>

      <div class="form-group">
        <label for="description">Description:</label>
        <textarea [(ngModel)]="activity.description"
                  class="form-control" id="description" name="description"
                  rows="10" required>
        </textarea>
      </div>

      <div class="form-group">
        <label class="required-field" for="projects">Project:</label>
        <select [(ngModel)]="activity.projectId"
                (focusout)="touched.project = true"
                [class.is-invalid]="touched.project && !isProjectIdValid()"
                [class.is-valid]="touched.project && isProjectIdValid()"
                id="projects" name="projects" class="form-control">
          <option *ngFor="let project of projects"
                  value="{{ project.id }}"
                  [selected]="activity.projectId === project.id">
            {{ project.name }}
          </option>
        </select>
      </div>
      <div *ngIf="touched.project && !isProjectIdValid()" class="alert alert-danger" role="alert">
        You have to choose a project to hold this activity.
      </div>

      <div class="text-center">
        <button (click)="create($event)" class="btn btn-success m-1" type="submit">
          <i class="fas fa-plus"></i> Create
        </button>
        <button (click)="reset()" class="btn btn-secondary m-1" type="button">
          <i class="fas fa-undo"></i> Reset
        </button>
      </div>
    </form>

    <div class="col-md-3"></div>
  </div>
</div>
