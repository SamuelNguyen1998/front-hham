
<div class="container-md absolute-center" style="padding-top: 30px;">
  <div class="col-sm">
    <div class="position-absolute top-left"> 
      <h2> Name Fund:  {{currentProject?.name}}</h2>
    </div> 
    <div class="text-right"> 
        <h2> Current Balance: {{currentProject?.funds[0].amount}} VND</h2>
    </div> 
  
  </div>
   
    
    <div class="col-sm">
        <h1 class="badge badge-danger">LIST OF MEMBERS</h1>
    </div>

    <div class="col-sm">
        <table  class="table table-striped"> 
            <thead class="thead-dark">
              <tr class="accordion-toggle">
                <th > Member Name</th>
                <th >Job title</th>
                <th >Monthly Amount to pay</th>
               

                <th *ngIf="auth.user.admin">check</th>
               
              </tr>
            </thead>

            <tbody>
            <tr *ngFor="let member of members" >
                <td>{{member.displayName}} </td>
                <td>{{member.jobTitle ? member.jobTitle.name : "Not found"}}</td>
                <td>{{member.jobTitle ? member.jobTitle.monthlyAmount : 0 }} VND</td>
                <td *ngIf="auth.user.admin"><input type="checkbox" class="form-check-input" id="{{member.id}}" value="{{member.jobTitle ? member.jobTitle.monthlyAmount : 0 }}" ></td>
            </tr>
            </tbody>
        </table>
        <div class="position-absolute top-left"> 
        <button *ngIf="auth.user.admin" (click)="saveTransaction()" class="btn btn-success">Payment</button>
        </div> 
        <div class="text-right"> 
        <button *ngIf="auth.user.admin" (click)="remind()" class="btn btn-success">Remind</button>
        </div> 

    </div>  

    <div class="col-sm">
        <h1 class="badge badge-danger">HISTORY FUNDING</h1>
    </div>

    <div class="col-sm">
        <table class="table table-striped"> 
            <thead class="thead-dark">
              <tr>
                <th> Member Name</th>
                <th>Job title</th>
                <th>Amount of Money</th>
                <th>Note</th>
              </tr> 
            </thead>
            <tbody>
            <tr *ngFor="let t of transactions">
              
              <ng-container *ngIf="t.typeId === 1 && t.fundId === currentProject?.funds[0].id">
                <th>{{t.username}}</th>
                <td>{{t?.jobTitleDtos[0] ? t?.jobTitleDtos[0].name : "Not found"}}</td>
                <td> {{t.amount}} VND</td>
                <td>{{t?.memo}}</td> 
              </ng-container>
              </tr>
            </tbody>
          </table>
    </div>

    <div class="col-sm">
        <h2 class="badge badge-danger"> HISTORY SPENDING</h2>
    </div>
    <div class="col-sm">
        <table class="table table-striped"> 
            <thead class="thead-dark">
              <tr>
                <th>Activity Name</th>
                <th>Finished On</th>
                <th>Amount of Money</th>
                <th>Note</th>
              </tr> 
            </thead>

            <tbody>
            <tr *ngFor="let t of transactions"  >
              <ng-container *ngIf="t.typeId === 2 && t.fundId === currentProject?.funds[0].id" >                               
                <th>{{t.activityName}}</th>
                <td>{{t.createdOn | date: 'medium' }}</td>
                <td> {{t.amount}}</td>
                <td>{{t?.memo}}</td> 
              </ng-container>
            </tr>
          </tbody>
          </table>
    </div>
</div>


